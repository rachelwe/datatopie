<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Datatopie - Simple and lightweight vanillaJS charts</title>
  <link rel="stylesheet" href="./dist/css/style.css">
  <script src="./dist/js/app.js"></script>

</head>
<body>
<!-- <div class="graph_wrapper" data-graph>
  <svg class="graph" aria-labelledby="title" data-toggle-state="true" data-toggle-name="graphique">
  </svg>
  <div class="graph_tooltips" data-tooltips ></div>
  <button class="graph_toggle" data-graph-toggle aria-live="polite">Affichage tableau</button>
  <table class="graph_table" data-graph-table data-toggle-state="false" data-toggle-name="tableau">
    <thead>
      <tr>
        <th>Mois</th>
        <th>Revenu</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>janvier</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>février</td>
        <td>300</td>
      </tr>
      <tr>
        <td>mars</td>
        <td>2200</td>
      </tr>
      <tr>
        <td>avril</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>mai</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>juin</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>juillet</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>août</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>septembre</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>octobre</td>
        <td>1250</td>
      </tr>
      <tr>
        <td>novembre</td>
        <td>1600</td>
      </tr>
      <tr>
        <td>decembre</td>
        <td>1250</td>
      </tr>
    </tbody>
  </table>
</div> -->

<div class="graph_wrapper" data-graph style="width:400px;height:200px;">
</div>

<script defer>
  // TODO : Use proxies to update only the necessary parts when the data or the config change.
// let [header, datas] = _tableToJson(table)

const config = {
  "mainTitle": "A very simple line chart about income",
  "legendKey": "label",
  "titleY": 'nombre',
  "titleX": 'Date',
  "wrapper": document.querySelector('[data-graph]')
}

const data = [
  {
    "label": "02/06/2022",
    "visitors": 5,
    "views": 26
  },
  {
    "label": "03/06/2022",
    "visitors": 150,
    "views": 234
  },
  {
    "label": "04/06/2022",
    "visitors": 15,
    "views": 34
  },
  {
    "label": "05/06/2022",
    "visitors": 0,
    "views": 0
  },
  {
    "label": "06/06/2022",
    "visitors": 300,
    "views": 345
  }
]

// const graphline = new GraphLine(node, datas, config);
// graphline.debug();
// graphline.draw();
// graphline.events();

const graph = new GraphLine(data, config);
graph.init();
graph.debug();
</script>
</body>
</html>
